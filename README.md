# DevSummit 2023 - Kubernetes 101


## 1. namespace “Ø“Ø—Å–≥—ç—Ö

–≠—Ö–ª—ç—ç–¥ **kubernetes-101** –Ω—ç—Ä—Ç—ç–π namespace “Ø“Ø—Å–≥—ç—Ö —Ö—ç—Ä—ç–≥—Ç—ç–π “Ø“Ø–Ω–∏–π —Ç—É–ª–¥ –¥–æ–æ—Ä—Ö —Ç—É—à–∞–∞–ª—ã–≥ –∞—à–∏–≥–ª–∞–∞—Ä–∞–π

```sh
kubectl apply -f namespace.yaml
```

“Æ“Ø—Å—Å—ç–Ω —ç—Å—ç—Ö–∏–π–≥ —à–∞–ª–≥–∞—Ö–¥–∞–∞ –¥–æ–æ—Ä—Ö —Ç—É—à–∞–∞–ª—ã–≥ –∞—à–∏–≥–ª–∞–Ω–∞

```sh
kubectl get namespace kubernetes-101
```

## 2. Pod “Ø“Ø—Å–≥—ç—Ö

Nginx –≤—ç–± —Å–µ—Ä–≤–µ—Ä–∏–π–Ω —Ö–∞–º–≥–∏–π–Ω —Å“Ø“Ø–ª–∏–π–Ω —Ö—É–≤–∏–ª–±–∞—Ä—ã–≥ –∞—à–∏–≥–ª–∞–Ω —ç–Ω–≥–∏–π–Ω Pod “Ø“Ø—Å–≥—ç–∂ —Ç—É—Ä—à–∏—Ö —É—É. –î–æ–æ—Ä—Ö —Ç—É—à–∞–∞–ª—ã–≥ –∞—à–∏–≥–ª–∞–Ω–∞.

```sh
kubectl apply -f nginx-pod.yaml
```

Pod –º–∞–∞–Ω—å “Ø“Ø—Å—Å—ç–Ω —ç—Å—ç—Ö–∏–π–≥ –¥–æ–æ—Ä—Ö —Ç—É—à–∞–∞–ª—ã–≥ –∞—à–∏–≥–ª–∞–∂ —Ö–∞—Ä–Ω–∞. –ò–Ω–≥—ç—Ö–¥—ç—ç status –¥—ç—ç—Ä ContainerCreating –≥—ç–∂ –±–∞–π–≤–∞–ª –∫–æ–Ω—Ç–µ–π–Ω—ç—Ä–∏–π–Ω image-–∏–π–≥ —Ç–∞—Ç–∞–∂ –∞–≤—á –±–∞–π–Ω–∞ –≥—ç—Å—ç–Ω “Ø–≥ —é–º. –ò–Ω—Ç–µ—Ä–Ω—ç—Ç–∏–π–Ω —Ö—É—Ä–¥–∞–∞—Å —à–∞–ª—Ç–≥–∞–∞–ª–∞–Ω —É–¥–∞–∂ –º–∞–≥–∞–¥–≥“Ø–π.

> -n –≥—ç–∂ namespace –∑–∞–∞–∂ ”©–≥—á –±–∞–π–≥–∞–∞ –±–æ–ª–Ω–æ. –ó–∞–∞–∂ ”©–≥”©”©–≥“Ø–π –±–æ–ª default-–∏–π–≥ —Ö–∞—Ä—É—É–ª–¥–∞–≥


```sh
kubectl get po nginx -o wide -n kubernetes-101
```

Running –±–æ–ª—Å–Ω—ã –¥–∞—Ä–∞–∞ IP —Ö—ç—Å—ç–≥ –¥—ç—ç—Ä Kubernetes –¥–æ—Ç–æ—Ä—Ö Pod-—ã–Ω —Ö–∞—è–≥–∏–π–≥ —Ö–∞—Ä–∂ –±–æ–ª–Ω–æ.

–î–æ–æ—Ä—Ö —Ç—É—à–∞–∞–ª—ã–Ω —Ç—É—Å–ª–∞–º–∂—Ç–∞–π nginx pod-—ã–Ω 80 –≥—ç—Å—ç–Ω –ø–æ—Ä—Ç —Ä—É—É 8080 –≥—ç—Å—ç–Ω –ø–æ—Ä—Ç—ã–Ω –ø—Ä–æ–∫—Å–∏ “Ø“Ø—Å–≥—ç–∂ –±–æ–ª–Ω–æ.

```sh
kubectl port-forward pod/nginx 8080:80 -n kubernetes-101
```

–û–¥–æ–æ http://127.0.0.1:8080 –≥—ç—Å—ç–Ω —Ö–∞—è–≥–∞–∞—Ä Pod —Ä—É—É —Ö–∞–Ω–¥–∞–∂ –±–æ–ª–Ω–æ, nginx —Ö—É—É–¥–∞—Å —Ö–∞—Ä–∞–≥–¥–∞–∂ –±–∞–π–Ω–∞ —É—É üòé

## 3. Deployment “Ø“Ø—Å–≥—ç—Ö

–≠–Ω—ç —É–¥–∞–∞–¥ **ConfigMap** –∞—à–∏–≥–ª–∞–Ω —Ç–æ—Ö–∏—Ä–≥–æ–æ–Ω—ã —Ñ–∞–π–ª “Ø“Ø—Å–≥—ç—ç–¥ —Ç—ç—Ä–∏–π–≥—ç—ç Deployment –¥–∞–º–∂—É—É–ª–∞–Ω Pod “Ø“Ø—Å–≥—ç—Ö–¥—ç—ç –¥–∞–º–∂—É—É–ª–∂ ”©–≥—á —Ç—É—Ä—à–∏–Ω–∞

–î–æ–æ—Ä—Ö —Ç—É—à–∞–∞–ª—ã–≥ –∞—à–∏–≥–ª–∞–Ω **nginx-content** –Ω—ç—Ä—Ç—ç–π ConfigMap “Ø“Ø—Å–≥—ç—Ö –±”©–≥”©”©–¥ index.html –≥—ç—Å—ç–Ω —É—Ç–≥–∞–Ω–¥ index.html —Ñ–∞–π–ª—ã–Ω –∞–≥—É—É–ª–≥—ã–≥ –¥–∞–º–∂—É—É–ª–∂ ”©–≥–Ω”©.

```sh
kubectl create configmap nginx-content --from-file=index.html=index.html -n kubernetes-101
```

–≠–Ω—ç —Ç—É—à–∞–∞–ª—ã–≥ –∞—à–∏–≥–ª–∞–Ω –∞–º–∂–∏–ª—Ç—Ç–∞–π “Ø“Ø—Å—Å—ç–Ω —ç—Å—ç—Ö, –º”©–Ω –∞–≥—É—É–ª–≥—ã–≥ —à–∞–ª–≥–∞–∞—Ä–∞–π

```sh
kubectl get cm nginx-content -n kubernetes-101 -o yaml
```

–û–¥–æ–æ Deployment “Ø“Ø—Å–≥—ç–µ, –¥–æ–æ—Ä—Ö —Ç—É—à–∞–∞–ª—ã–≥ –∞—à–∏–≥–ª–∞–∞—Ä–∞–π

```sh
kubectl apply -f nginx-deployment.yaml
```

–î–æ–æ—Ä—Ö —Ç—É—à–∞–∞–ª–∞–∞—Ä Deployment “Ø“Ø—Å—Å—ç–Ω —ç—Å—ç—Ö–∏–π–≥ —à–∞–ª–≥–∞—Ö–∞–∞—Å –≥–∞–¥–Ω–∞ —Ö—ç–¥—ç–Ω Pod –∞—Å–∞–∞—Å–Ω—ã–≥ —Ö–∞—Ä–∂ –±–æ–ª–Ω–æ

```sh
kubectl get deploy nginx -n kubernetes-101 -o wide
```

–•–∞—Ä–∏–Ω “Ø“Ø—Å—Å—ç–Ω Pod –∂–∞–≥—Å–∞–∞–ª—Ç—ã–≥ —Ö–∞—Ä–∞—Ö–¥–∞–∞, **nginx-** –≥—ç–∂ —ç—Ö—ç–ª—Å—ç–Ω —É—Ä—Ç –Ω—ç—Ä—Ç—ç–π Pod-—É—É–¥ “Ø“Ø—Å—Å—ç–Ω –±–∞–π–≥–∞–∞

```sh
kubectl get pod -n kubernetes-101
```

```sh
kubectl port-forward deployment/nginx 8080:80 -n kubernetes-101
```

## 4. Service “Ø“Ø—Å–≥—ç–µ

–î–æ–æ—Ä—Ö —Ç—É—à–∞–∞–ª—ã–≥ –∞—à–∏–≥–ª–∞–Ω **nginx** –Ω—ç—Ä—Ç—ç–π —Å–µ—Ä–≤–∏—Å “Ø“Ø—Å–≥—ç–Ω—ç

```sh
kubectl apply -f nginx-service.yaml
```

–≠–Ω—ç —Ç—É—à–∞–∞–ª—ã–≥ –∞—à–∏–≥–ª–∞–∂ “Ø“Ø—Å—Å—ç–Ω —ç—Å—ç—Ö–∏–π–≥ —à–∞–ª–≥–∞–∂ –±–æ–ª–Ω–æ

```sh
kubectl get service nginx -n kubernetes-101 -o wide
```

”®–º–Ω”©—Ö–∏–π–Ω –∞–∂–∏–ª 8080 –ø–æ—Ä—Ç –¥—ç—ç—Ä nginx —Å–µ—Ä–≤–∏—Å–∏–π–Ω 80 –ø–æ—Ä—Ç—ã–≥ –ø—Ä–æ–∫—Å–∏ —Ö–∏–π–∂ “Ø–∑—å–µ.

```sh
kubectl port-forward service/nginx 8080:80 -n kubernetes-101
```

## 5. Ingress

Ingress “Ø“Ø—Å–≥—ç—Ö–¥—ç—ç –¥–æ–æ—Ä—Ö —Ç—É—à–∞–∞–ª—ã–≥ –∞—à–∏–≥–ª–∞–Ω–∞.

```sh
kubectl apply -f nginx-ingress.yaml
```

–≠—Ü—ç—Å—Ç –Ω—å http://kubernetes-101.45.117.32.201.nip.io —Ö–∞—è–≥–∞–∞—Ä –æ—Ä–æ—Ö–æ–¥ –±–∏–¥–Ω–∏–π –≤—ç–± —Ö—É—É–¥–∞—Å —Ö–∞—Ä–∞–≥–¥–∞–∂ –±–∞–π–≥–∞–∞
